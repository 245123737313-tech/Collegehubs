<div class="page-container">
    <div class="page-header">
        <h1>Notices</h1>
        <button class="btn-primary" ng-click="showForm = !showForm">
            {{ showForm ? 'Hide Form' : 'Add Notice' }}
        </button>
    </div>

    <p ng-if="message" class="message" ng-class="{'success': message.includes('successfully'), 'error': !message.includes('successfully')}">{{ message }}</p>

    <div ng-if="showForm && isLoggedIn" class="form-container">
        <h2>Add New Notice</h2>
        <form ng-submit="addNotice()">
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" id="title" ng-model="newNotice.title" placeholder="Enter notice title" required>
            </div>
            <div class="form-group">
                <label for="description">Description:</label>
                <textarea id="description" ng-model="newNotice.description" placeholder="Enter notice description" rows="5" required></textarea>
            </div>
            <button type="submit" class="btn-primary">Post Notice</button>
        </form>
    </div>

    <div ng-if="showForm && !isLoggedIn" class="form-container">
        <p class="message error">Please login to post a notice</p>
    </div>

    <div class="notices-list">
        <h2>All Notices</h2>
        <div ng-if="notices.length === 0" class="empty-state">
            <p>No notices available yet.</p>
        </div>
        <div ng-repeat="notice in notices" class="notice-card">
            <div class="card-header">
                <h3>{{ notice.title }}</h3>
                <button class="btn-delete" ng-click="deleteNotice(notice.id)" title="Delete notice">Delete</button>
            </div>
            <p>{{ notice.description }}</p>
            <small>Posted on: {{ notice.date | date:'medium' }}</small>
        </div>
    </div>
</div>
